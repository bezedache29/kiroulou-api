{
    "openapi": "3.0.0",
    "info": {
        "title": "Kiroulou API Documentation",
        "description": "Documentation de l'API utilisée par l'application mobile KiRoulOu, faite avec Laravel",
        "contact": {
            "email": "bezedache29@gmail.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "0.0.1"
    },
    "servers": [
        {
            "url": "https://localhost/api",
            "description": "Server API KiRoulOu"
        }
    ],
    "paths": {
        "/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Inscription",
                "description": "Inscription d'un utilisateur",
                "operationId": "0903f2e0df1a8857bee538fc055417f0",
                "requestBody": {
                    "$ref": "#/components/requestBodies/PostUser"
                },
                "responses": {
                    "201": {
                        "$ref": "#/components/responses/Created"
                    },
                    "409": {
                        "$ref": "#/components/responses/Conflit"
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                }
            }
        },
        "/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Connexion",
                "description": "Connexion d'un utilisateur",
                "operationId": "2dd578ff7aba2721293dac66833b27d1",
                "requestBody": {
                    "$ref": "#/components/requestBodies/PostUser"
                },
                "responses": {
                    "200": {
                        "description": "Accès autorisé à la ressource demandée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "auth_token": {
                                            "description": "Le token d'authentification reçu par Sanctum de Laravel ainsi que le type de token",
                                            "properties": {
                                                "token": {
                                                    "description": "Le token fourni par Sanctum de Laravel",
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "description": "Le type de token reçu",
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object",
                                            "example": {
                                                "token": "2|kqRoYkSd01vGLlDwkYet4CmNdtic46lOYooJZn8A",
                                                "type": "Bearer"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "$ref": "#/components/responses/Forbidden"
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                }
            }
        },
        "/me": {
            "post": {
                "tags": [
                    "Tests"
                ],
                "summary": "User",
                "description": "Récupère toutes les infos du user connecté",
                "operationId": "af3b8d149797532336b3d65ef346c917",
                "responses": {
                    "200": {
                        "description": "Accès autorisé à la ressource demandée"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs": {
            "get": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Tous les clubs",
                "operationId": "6bd3c69424b5df7adb3f74b76d3f629e",
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Le nombre de clubs à récupérer",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Club"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Ajout Club",
                "description": "Création d'un club",
                "operationId": "14ad7ea532d198f8fd2215e0da9511f1",
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddClub"
                },
                "responses": {
                    "201": {
                        "description": "Club créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "club created"
                                        },
                                        "user_update": {
                                            "properties": {
                                                "is_club_admin": {
                                                    "description": "Le user devient admin du club qu'il vient de créer",
                                                    "type": "boolean"
                                                },
                                                "club_id": {
                                                    "description": "Le user est membre du club qu'il vient de créer",
                                                    "type": "number"
                                                }
                                            },
                                            "type": "object",
                                            "example": {
                                                "is_club_admin": true,
                                                "club_id": 1
                                            }
                                        },
                                        "club": {
                                            "description": "Détails du club",
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Club"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Déjà dans un club",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vous faites déjà partie d'un club !"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/clubInformations": {
            "get": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Club's informations",
                "description": "Les informations du club",
                "operationId": "63c1b3db67056d9071c41b4509f3fe3f",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/ClubInformations"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/clubPosts": {
            "get": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Club's posts",
                "description": "Le club et ses articles",
                "operationId": "2383c5af104d437d62dce9dcf0b6e454",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/ClubPosts"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/clubMembers": {
            "get": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Club's members",
                "description": "Le club et ses membres ainsi que les demandes d'adhésion",
                "operationId": "64494a1663f52e852d30c38d72aa0804",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/ClubMembers"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/followOrUnfollow": {
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Follow club",
                "description": "Follow un club",
                "operationId": "af69a344716587613075fbb0f84ab25b",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "201": {
                        "$ref": "#/components/responses/Created"
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/requestToJoin": {
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Request to join club",
                "description": "Demande d'adhésion au club",
                "operationId": "848adbaaf99fd7b610ed94a7e19e70a1",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "201": {
                        "$ref": "#/components/responses/Created"
                    },
                    "403": {
                        "description": "Demande déjà en cours de traitement",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Votre demande est déjà en traitement pour ce club"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/acceptRequestToJoin": {
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Accept user request to join club",
                "description": "Acceptation de la demande d'adhésion d'un user au club",
                "operationId": "0872b4c80819300ae0644ed9745ab75a",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Accept la demande d'adhésion du user dans le club",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Accept Membership Request"
                                        },
                                        "club": {
                                            "$ref": "#/components/schemas/Club"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "$ref": "#/components/responses/Conflit"
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/denyRequestToJoin": {
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Deny user request to join club",
                "description": "Refus de la demande d'adhésion d'un user au club",
                "operationId": "ca66c9a1d3862b4b8da825db0bb4b521",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Refuse la demande d'adhésion du user dans le club",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Deny Membership Request"
                                        },
                                        "club": {
                                            "$ref": "#/components/schemas/Club"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "$ref": "#/components/responses/Conflit"
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/showJoinRequests": {
            "get": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Show user's requests",
                "operationId": "11bcf9290d59a6633d4d3d63c273a077",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "user_id": {
                                                "type": "number",
                                                "example": 10005
                                            },
                                            "club_id": {
                                                "type": "number",
                                                "example": 1
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "example": "2022-08-15 14:25:01"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "example": null
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/changeAdmin": {
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Change admin for club",
                "description": "Change d'admin pour le club",
                "operationId": "b76c1afd3a67284d794456696c7b6769",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/ChangeAdmin"
                },
                "responses": {
                    "201": {
                        "$ref": "#/components/responses/Created"
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/posts": {
            "get": {
                "tags": [
                    "Clubs"
                ],
                "summary": "All club posts",
                "operationId": "5f0c20c540e9d2dfb7eeee6088ccd288",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/ClubPost"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Create club post",
                "description": "Ajout d'un article par un club",
                "operationId": "d4fd58758e03d42acf3c6461f094dab8",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddClubPost"
                },
                "responses": {
                    "201": {
                        "description": "Article d'un club créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "post created"
                                        },
                                        "post": {
                                            "$ref": "#/components/schemas/ClubPost"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/clubs/{club_id}/posts/{post_id}/comments": {
            "get": {
                "tags": [
                    "Clubs"
                ],
                "summary": "All club posts",
                "operationId": "8eae86a55a90b1b947b0c9bcb7dde8cd",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    },
                    {
                        "$ref": "#/components/parameters/post_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/ClubPostComment"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Clubs"
                ],
                "summary": "Create club post comment",
                "description": "Ajout d'un commentaire à un article de club",
                "operationId": "89560aff7aa2df8192802f4bcbee53bf",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/club_id"
                    },
                    {
                        "$ref": "#/components/parameters/post_id"
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddClubPostComment"
                },
                "responses": {
                    "201": {
                        "description": "Commentaire d'article de club créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "comment created"
                                        },
                                        "comments": {
                                            "$ref": "#/components/schemas/ClubPostComment"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/bikes": {
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Add bike's user",
                "description": "Ajouter un vélo du user connecté",
                "operationId": "95d110a5af7e39022292b655b78ad305",
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddBike"
                },
                "responses": {
                    "201": {
                        "description": "Vélo d'un user créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "bike created"
                                        },
                                        "bike": {
                                            "$ref": "#/components/schemas/Bike"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/users/{user_id}/bikes": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "All user's bikes",
                "operationId": "5b122965fbaec6ee490418137098f364",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/user_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Bike"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/users/{user_id}/profileImages": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Last 4 profile images",
                "operationId": "ad25edf7e6eb659f1d3ab4bb73131e97",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/user_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/PostUserImage"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/users/{user_id}/allImages": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "All user's images",
                "operationId": "a6c8709c29f29a98a84feea83a298ec3",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/user_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/PostUserImage"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/users/{user_id}/followedClubs": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Clubs followed by the user",
                "description": "Les clubs suivis par le user",
                "operationId": "61798ed1abe8c411df2e1c28c61c8d71",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/user_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "user_id": {
                                                "description": "Id du user qui suis le club",
                                                "type": "number",
                                                "example": 10005
                                            },
                                            "club_id": {
                                                "description": "Id du club qui est suivis",
                                                "type": "number",
                                                "example": 1
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/users/{user_id}/followedUsers": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Users followed by the user",
                "description": "Les users suivis par le user",
                "operationId": "928dc6687e2fe075563112b5acb6fab2",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/user_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "user_follower_id": {
                                                "description": "Id du user qui suis",
                                                "type": "number",
                                                "example": 10005
                                            },
                                            "user_followed_id": {
                                                "description": "Id du user qui est suis",
                                                "type": "number",
                                                "example": 1
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/users/{user_id}/followOrUnfollow": {
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Follow/Unfollow user",
                "description": "Follow/Unfollow un user",
                "operationId": "ba62facd65b778e2aa6c91b868cb70c6",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/user_id"
                    }
                ],
                "responses": {
                    "201": {
                        "$ref": "#/components/responses/Created"
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/posts": {
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Create user post",
                "description": "Ajout d'un article par un user",
                "operationId": "ad2b664964bffd7d0092f1c5f414f90a",
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddPostUser"
                },
                "responses": {
                    "201": {
                        "description": "Article d'un user créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "post created"
                                        },
                                        "post": {
                                            "$ref": "#/components/schemas/PostUser"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/users/{user_id}/posts": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "All user's posts",
                "operationId": "09fc51c4b4bac3709da9a1e2d9385385",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/user_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/PostUser"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/posts/{post_id}/likeOrUnlike": {
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Like or unlike user post",
                "description": "Aimer ou ne plus aimer un article d'un user",
                "operationId": "15afec1bad04e74f304aab233fa07557",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/post_id"
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Article d'un user créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "liked"
                                        },
                                        "post": {
                                            "$ref": "#/components/schemas/PostUser"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        },
        "/posts/{post_id}/comments": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "All user's posts",
                "operationId": "69748b7e01e0cf1a0f6bcfd5e0d38d10",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/post_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/PostUserComment"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/NotFound"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Users"
                ],
                "summary": "Create user post comment",
                "description": "Ajout d'un commentaire à un article d'un user",
                "operationId": "41edcd4a1dc5781d4ed1c65fe39d375d",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/post_id"
                    }
                ],
                "requestBody": {
                    "$ref": "#/components/requestBodies/AddPostUserComment"
                },
                "responses": {
                    "201": {
                        "description": "Commentaire d'article de user créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "comment created"
                                        },
                                        "comments": {
                                            "$ref": "#/components/schemas/PostUserComment"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "$ref": "#/components/responses/UnprocessableEntity"
                    }
                },
                "security": [
                    {
                        "bearer_token": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "Address": {
                "description": "Adresse simplifié",
                "properties": {
                    "street_address": {
                        "description": "Rue / lieu-dit",
                        "type": "string",
                        "example": "Ma super adresse"
                    },
                    "lat": {
                        "description": "Lattitude",
                        "type": "string",
                        "example": "48.5740185"
                    },
                    "lng": {
                        "description": "Longitude",
                        "type": "string",
                        "example": "-4.3335965"
                    },
                    "region": {
                        "description": "Region",
                        "type": "string",
                        "example": "Ma super région"
                    },
                    "department": {
                        "description": "Département",
                        "type": "string",
                        "example": "Mon super département"
                    },
                    "department_code": {
                        "description": "Code du département",
                        "type": "string",
                        "example": "29"
                    },
                    "city": {
                        "$ref": "#/components/schemas/City"
                    },
                    "zipcode": {
                        "$ref": "#/components/schemas/Zipcode"
                    }
                },
                "type": "object"
            },
            "Bike": {
                "description": "Vélo du user",
                "properties": {
                    "name": {
                        "description": "Nom que donne le user au vélo",
                        "type": "string",
                        "example": "Le gravel de folie"
                    },
                    "brand": {
                        "description": "Marque du vélo",
                        "type": "string",
                        "example": "Specialized"
                    },
                    "model": {
                        "description": "Modèle de la marque",
                        "type": "string",
                        "example": "S-Works Turbo Creo SL EVO"
                    },
                    "bike_type": {
                        "$ref": "#/components/schemas/BikeType"
                    },
                    "date": {
                        "description": "Date d'achat ou de première mise en circulation",
                        "type": "string",
                        "example": "2022-08-15T21:30:58.000000Z"
                    },
                    "weight": {
                        "description": "Poids en kilogrammes du vélo",
                        "type": "string",
                        "example": "11.9"
                    },
                    "image": {
                        "description": "Image/Photo du vélo",
                        "type": "string",
                        "example": "spe.png"
                    }
                },
                "type": "object"
            },
            "BikeType": {
                "description": "Type de vélo",
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Vélo Gravel"
                    }
                },
                "type": "object"
            },
            "City": {
                "description": "Ville",
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Lesneven"
                    }
                },
                "type": "object"
            },
            "Club": {
                "description": "Club",
                "properties": {
                    "id": {
                        "description": "Id du user",
                        "type": "number",
                        "example": "1"
                    },
                    "name": {
                        "description": "Nom du club",
                        "type": "string",
                        "example": "Côte des légendes VTT"
                    },
                    "shortName": {
                        "description": "Nom raccourci du club",
                        "type": "string",
                        "example": "CDL VTT"
                    },
                    "website": {
                        "description": "Site internet du club",
                        "type": "string",
                        "example": "http://cotedeslegendesvtt.free.fr/",
                        "nullable": true
                    },
                    "avatar": {
                        "description": "Nom de l'avatar (id du club + .png)",
                        "type": "string",
                        "example": "1.png",
                        "nullable": true
                    },
                    "address": {
                        "$ref": "#/components/schemas/Address"
                    }
                },
                "type": "object"
            },
            "ClubInformations": {
                "description": "Informations du club pour la scene informations du profil",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/Club"
                    }
                ]
            },
            "ClubPosts": {
                "description": "Posts du club pour la scene articles du profil",
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/Club"
                    },
                    {
                        "properties": {
                            "posts": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/ClubPost"
                                }
                            }
                        }
                    }
                ]
            },
            "ClubMembers": {
                "description": "Membres et demandes adhésion du club pour la scene membres du profil",
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/Club"
                    },
                    {
                        "properties": {
                            "members": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/UserDetails"
                                }
                            },
                            "user_join_requests": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/UserDetails"
                                }
                            }
                        }
                    }
                ]
            },
            "ClubPost": {
                "description": "Article d'un club",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 1
                    },
                    "title": {
                        "type": "string",
                        "example": "Mon super titre"
                    },
                    "description": {
                        "type": "string",
                        "example": "Ma super description d'article"
                    },
                    "club_id": {
                        "type": "number",
                        "example": 1
                    },
                    "created_at": {
                        "type": "string",
                        "example": "2022-08-15 14:25:01"
                    },
                    "updated_at": {
                        "type": "string",
                        "example": null
                    },
                    "images": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ClubPostImage"
                        }
                    }
                },
                "type": "object"
            },
            "ClubPostComment": {
                "description": "Commentaire d'un article d'un club par un user",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 1
                    },
                    "user_id": {
                        "type": "number",
                        "example": 10005
                    },
                    "club_post_id": {
                        "type": "number",
                        "example": 1
                    },
                    "message": {
                        "type": "string",
                        "example": "Mon super commentaire d'un article du club"
                    },
                    "created_at": {
                        "type": "string",
                        "example": "2022-08-15 14:25:01"
                    },
                    "updated_at": {
                        "type": "string",
                        "example": null
                    }
                },
                "type": "object"
            },
            "ClubPostImage": {
                "description": "Image d'un post de club",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 1
                    },
                    "image": {
                        "type": "string",
                        "example": "mon-image.png"
                    },
                    "club_post_id": {
                        "type": "number",
                        "example": 1
                    }
                },
                "type": "object"
            },
            "Organization": {
                "description": "Type d'organisation de club",
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Association"
                    }
                },
                "type": "object"
            },
            "PostUser": {
                "description": "Article d'un user",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 1
                    },
                    "title": {
                        "type": "string",
                        "example": "Mon super titre"
                    },
                    "description": {
                        "type": "string",
                        "example": "Ma super description d'article"
                    },
                    "user_id": {
                        "type": "number",
                        "example": 10005
                    },
                    "created_at": {
                        "type": "string",
                        "example": "2022-08-15 14:25:01"
                    },
                    "updated_at": {
                        "type": "string",
                        "example": null
                    },
                    "post_user_images": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PostUserImage"
                        }
                    },
                    "post_user_likes": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PostUserLike"
                        }
                    }
                },
                "type": "object"
            },
            "PostUserComment": {
                "description": "Commentaire d'un article d'un user par un user",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 1
                    },
                    "user_id": {
                        "type": "number",
                        "example": 10005
                    },
                    "post_user_id": {
                        "type": "number",
                        "example": 1
                    },
                    "message": {
                        "type": "string",
                        "example": "Mon super commentaire d'un article d'un user"
                    },
                    "created_at": {
                        "type": "string",
                        "example": "2022-08-15 14:25:01"
                    },
                    "updated_at": {
                        "type": "string",
                        "example": null
                    },
                    "deleted_at": {
                        "type": "string",
                        "example": null
                    },
                    "user": {
                        "$ref": "#/components/schemas/UserDetails"
                    }
                },
                "type": "object"
            },
            "PostUserImage": {
                "description": "Les images d'un post d'un user",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 1
                    },
                    "post_user_id": {
                        "type": "number",
                        "example": 1
                    },
                    "user_id": {
                        "type": "number",
                        "example": 10005
                    },
                    "image": {
                        "type": "string",
                        "example": "image.png"
                    }
                },
                "type": "object"
            },
            "PostUserLike": {
                "description": "Like ou Unlike d'un post d'un user",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 1
                    },
                    "user_id": {
                        "type": "number",
                        "example": 1
                    },
                    "post_user_id": {
                        "type": "number",
                        "example": 1
                    },
                    "created_at": {
                        "type": "string",
                        "example": "2022-08-15T21:09:16.138Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "example": null
                    },
                    "user": {
                        "$ref": "#/components/schemas/UserDetails"
                    }
                },
                "type": "object"
            },
            "User": {
                "description": "User Simple",
                "properties": {
                    "id": {
                        "description": "Id du user",
                        "type": "number",
                        "example": "1"
                    },
                    "email": {
                        "description": "Email du user",
                        "type": "string",
                        "example": "simon-strueux@gmail.com"
                    },
                    "created_at": {
                        "description": "Date de création du user",
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "updated_at": {
                        "description": "Date d'édition du user",
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "deleted_at": {
                        "description": "Date d'e suppression du user",
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserLoggedIn": {
                "description": "Token du user une fois connecté",
                "properties": {
                    "token": {
                        "description": "Token généré par sanctum, après connexion du user",
                        "type": "string",
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
                    }
                },
                "type": "object"
            },
            "UserDetails": {
                "description": "Détails du user connecté",
                "type": "object",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/User"
                    },
                    {
                        "properties": {
                            "firstname": {
                                "description": "Prénom du user",
                                "type": "string",
                                "example": "Simon",
                                "nullable": true
                            },
                            "lastname": {
                                "description": "Nom du user",
                                "type": "string",
                                "example": "Strueux",
                                "nullable": true
                            },
                            "is_push_notifications": {
                                "description": "Est-ce que le user souhaite recevoir des notifications push",
                                "type": "number",
                                "example": 1
                            },
                            "is_email_notifications": {
                                "description": "Est-ce que le user souhaite recevoir des notifications email",
                                "type": "number",
                                "example": 1
                            },
                            "club_id": {
                                "description": "membre du club ayant l'id du club_id",
                                "type": "number",
                                "example": 1
                            },
                            "is_club_admin": {
                                "description": "Est-ce que le user est admin de son club",
                                "type": "number",
                                "example": 1
                            },
                            "address": {
                                "$ref": "#/components/schemas/Address"
                            }
                        }
                    }
                ]
            },
            "Zipcode": {
                "description": "Code postal",
                "properties": {
                    "code": {
                        "type": "string",
                        "example": "29260"
                    }
                },
                "type": "object"
            }
        },
        "responses": {
            "Conflit": {
                "description": "Conflit de ressource",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Un compte avec cette adresse email existe déjà"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "Created": {
                "description": "Ressource créée",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "user created"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "UnprocessableEntity": {
                "description": "Ressource non traitée",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "email": {
                                    "type": "array",
                                    "items": {},
                                    "example": [
                                        "L'adresse email est obligatoire"
                                    ]
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "Forbidden": {
                "description": "Accès refusé à la ressource demandée",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "email et/ou mot de passe incorrect(s)"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "NotFound": {
                "description": "Ressource introuvable",
                "content": {
                    "application/json": {
                        "schema": {
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Resource not found"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            }
        },
        "parameters": {
            "id": {
                "name": "id",
                "in": "path",
                "description": "ID de la ressource",
                "required": true,
                "schema": {
                    "type": "integer"
                }
            },
            "club_id": {
                "name": "club_id",
                "in": "path",
                "description": "ID du club",
                "required": true,
                "schema": {
                    "type": "integer"
                }
            },
            "post_id": {
                "name": "post_id",
                "in": "path",
                "description": "ID du post",
                "required": true,
                "schema": {
                    "type": "integer"
                }
            },
            "user_id": {
                "name": "user_id",
                "in": "path",
                "description": "ID du user",
                "required": true,
                "schema": {
                    "type": "integer"
                }
            }
        },
        "requestBodies": {
            "AddAddress": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "street_address, lat, lng, region, department, department_code"
                            ],
                            "properties": {
                                "street_address": {
                                    "type": "string",
                                    "example": "Ma super rue"
                                },
                                "lat": {
                                    "description": "Lattitude GPS",
                                    "type": "string",
                                    "example": "48.5740185"
                                },
                                "lng": {
                                    "description": "Longitude GPS",
                                    "type": "string",
                                    "example": "-4.3335965"
                                },
                                "region": {
                                    "type": "string",
                                    "example": "Bretagne"
                                },
                                "department": {
                                    "type": "string",
                                    "example": "Finistère"
                                },
                                "department_code": {
                                    "type": "string",
                                    "example": "29"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "AddBike": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "name, brand, model, bike_type_id, date"
                            ],
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "example": "Mon Super VTT"
                                },
                                "brand": {
                                    "type": "string",
                                    "example": "Canyon"
                                },
                                "model": {
                                    "type": "string",
                                    "example": "Lux world cup cfr"
                                },
                                "bike_type_id": {
                                    "type": "number",
                                    "example": 1
                                },
                                "date": {
                                    "type": "string",
                                    "example": "2022-08-15 14:25:01"
                                },
                                "weight": {
                                    "type": "string",
                                    "example": "9.8"
                                },
                                "image": {
                                    "type": "string",
                                    "example": "canyon.png"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "AddClub": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "name, street_address, city, zipcode, lat, lng, region, department, department_code, organization"
                            ],
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "example": "Mon super club"
                                },
                                "shortName": {
                                    "description": "Diminutif du club",
                                    "type": "string",
                                    "example": "MSC"
                                },
                                "website": {
                                    "type": "string",
                                    "example": "https://mon-super-club.com"
                                },
                                "avatar": {
                                    "description": "Renommage de l'avatar avec id du club",
                                    "type": "string",
                                    "example": "1.png"
                                },
                                "organization": {
                                    "description": "organization_id du type de club",
                                    "type": "number",
                                    "example": "3"
                                },
                                "street_address": {
                                    "type": "string",
                                    "example": "Ma super rue"
                                },
                                "city": {
                                    "type": "string",
                                    "example": "Nantes"
                                },
                                "zipcode": {
                                    "type": "string",
                                    "example": "44000"
                                },
                                "lat": {
                                    "description": "Lattitude GPS",
                                    "type": "string",
                                    "example": "48.5740185"
                                },
                                "lng": {
                                    "description": "Longitude GPS",
                                    "type": "string",
                                    "example": "-4.3335965"
                                },
                                "region": {
                                    "type": "string",
                                    "example": "Bretagne"
                                },
                                "department": {
                                    "type": "string",
                                    "example": "Finistère"
                                },
                                "department_code": {
                                    "type": "string",
                                    "example": "29"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "AddClubPost": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "title, description"
                            ],
                            "properties": {
                                "title": {
                                    "type": "string",
                                    "example": "Mon super titre"
                                },
                                "description": {
                                    "type": "string",
                                    "example": "Ma super description"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "AddClubPostComment": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "message, user_id, club_post_id"
                            ],
                            "properties": {
                                "user_id": {
                                    "type": "number",
                                    "example": 10005
                                },
                                "club_post_id": {
                                    "type": "number",
                                    "example": 1
                                },
                                "message": {
                                    "type": "string",
                                    "example": "Mon super commentaire"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "ChangeAdmin": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "user_id"
                            ],
                            "properties": {
                                "user_id": {
                                    "type": "number",
                                    "example": 10005
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "FollowClub": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "user_id, club_id"
                            ],
                            "properties": {
                                "user_id": {
                                    "type": "number",
                                    "example": "1005"
                                },
                                "club_id": {
                                    "type": "number",
                                    "example": "2"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "PostUser": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "email, password"
                            ],
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "simon-strueux@gmail.com"
                                },
                                "password": {
                                    "type": "string",
                                    "example": "password12345"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "AddPostUser": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "title, description, user_id"
                            ],
                            "properties": {
                                "title": {
                                    "type": "string",
                                    "example": "Mon super titre"
                                },
                                "description": {
                                    "type": "string",
                                    "example": "Ma super description"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            },
            "AddPostUserComment": {
                "required": true,
                "content": {
                    "application/json": {
                        "schema": {
                            "required": [
                                "message",
                                "post_user_id",
                                "user_id"
                            ],
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Mon super commentaire"
                                }
                            },
                            "type": "object"
                        }
                    }
                }
            }
        },
        "securitySchemes": {
            "bearer_token": {
                "type": "http",
                "description": "S'authentifier avec email & password pour récupérer un token d'authentification",
                "name": "Authorization",
                "in": "header",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Opérations d'authentification"
        },
        {
            "name": "Users",
            "description": "Opérations en relation avec les utilisateurs"
        },
        {
            "name": "Clubs",
            "description": "Opérations en relation avec les clubs"
        }
    ]
}